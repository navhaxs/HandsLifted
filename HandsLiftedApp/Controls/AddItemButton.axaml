<UserControl
    x:Class="HandsLiftedApp.Controls.AddItemButton"
    xmlns="https://github.com/avaloniaui"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:material="using:Material.Icons.Avalonia"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    d:DesignHeight="150"
    d:DesignWidth="400"
    Background="Transparent"
    DragDrop.AllowDrop="True"
    mc:Ignorable="d">
    <DockPanel>
        <TextBlock Name="DropState" />
        <Button
            Width="100"
            Margin="50,0"
            HorizontalAlignment="Left"
            VerticalAlignment="Top"
            DockPanel.Dock="Left">
            <Button.Styles>
                <Style Selector="Button">
                    <Setter Property="Padding" Value="12 8" />
                    <Setter Property="HorizontalAlignment" Value="Stretch" />
                    <Setter Property="BorderThickness" Value="1" />
                    <Setter Property="CornerRadius" Value="6" />
                    <Setter Property="Background" Value="#f6f4ff" />
                    <Setter Property="BorderBrush" Value="#f6f4ff" />
                </Style>
                <Style Selector="Button:pointerover">
                    <Setter Property="Background" Value="#f6f4ff" />
                    <Setter Property="BorderBrush" Value="#f6f4ff" />
                </Style>
            </Button.Styles>

            <material:MaterialIcon
                Width="24"
                Height="24"
                Margin="-4"
                VerticalAlignment="Center"
                DockPanel.Dock="Top"
                Foreground="#9a93cd"
                Kind="Plus" />

            <Button.Flyout>
                <MenuFlyout Placement="RightEdgeAlignedBottom">
                    <MenuItem Header="_Presentation">
                        <MenuItem Command="{Binding AddPresentationCommand}" Header="PowerPoint">
                            <MenuItem.Icon>
                                <material:MaterialIcon Kind="Presentation" />
                            </MenuItem.Icon>
                        </MenuItem>
                        <MenuItem Command="{Binding AddGoogleSlidesCommand}" Header="Google Slides">
                            <MenuItem.Icon>
                                <material:MaterialIcon Kind="Slideshow" />
                            </MenuItem.Icon>
                        </MenuItem>
                        <MenuItem Header="PDF Slides (Canva, etc.)">
                            <MenuItem.Icon>
                                <material:MaterialIcon Kind="Slideshow" />
                            </MenuItem.Icon>
                        </MenuItem>
                    </MenuItem>
                    <MenuItem Command="{Binding AddSongCommand}" Header="_Song">
                        <MenuItem.Icon>
                            <material:MaterialIcon Kind="Music" />
                        </MenuItem.Icon>
                    </MenuItem>
                    <MenuItem Command="{Binding AddGraphicCommand}" Header="_Graphic/s">
                        <MenuItem.Icon>
                            <material:MaterialIcon Kind="Image" />
                        </MenuItem.Icon>
                    </MenuItem>
                    <MenuItem Command="{Binding AddVideoCommand}" Header="_Video">
                        <MenuItem.Icon>
                            <material:MaterialIcon Kind="Video" />
                        </MenuItem.Icon>
                    </MenuItem>
                    <Separator />
					<!-- TODO bind to DataContext of Window if possible -->
                    <TextBlock Text="{Binding Title, RelativeSource={RelativeSource FindAncestor, AncestorType={x:Type Window}}}" />
                    <MenuItem Command="{Binding DataContext.AddLogoCommand, RelativeSource={RelativeSource FindAncestor, AncestorType={x:Type Window}}}" Header="_Logo">
                        <MenuItem.Icon>
                            <material:MaterialIcon Kind="Star" />
                        </MenuItem.Icon>
                    </MenuItem>
                    <Separator />
                    <MenuItem Header="_Group">
                        <MenuItem.Icon>
                            <material:MaterialIcon Kind="ContentCopy" />
                        </MenuItem.Icon>

                        <MenuItem Command="{Binding AddGroupCommand}" Header="_...From Folder of Media" />
                        <MenuItem Command="{Binding AddTestEmptyGroupCommand}" Header="Blank Group" />
                        <MenuItem Command="{Binding AddCustomSlideCommand}" Header="Custom Group (Bible Reading Slide Test)" />
                    </MenuItem>
                </MenuFlyout>
            </Button.Flyout>
        </Button>
    </DockPanel>
</UserControl>
